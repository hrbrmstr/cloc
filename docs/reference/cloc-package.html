<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Count Lines of Code, Comments and Whitespace in Source Files and Archives — cloc-package • cloc</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Count Lines of Code, Comments and Whitespace in Source Files and Archives — cloc-package" />

<meta property="og:description" content="Counts blank lines, comment lines, and physical lines of source code in source
files/trees/archives. An R wrapper to the Perl cloc utility
https://github.com/AlDanial/cloc by @AlDanial." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cloc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Count Lines of Code, Comments and Whitespace in Source Files and Archives</h1>
    
    <div class="hidden name"><code>cloc-package.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Counts blank lines, comment lines, and physical lines of source code in source
files/trees/archives. An R wrapper to the Perl <code>cloc</code> utility
<a href='https://github.com/AlDanial/cloc'>https://github.com/AlDanial/cloc</a> by @AlDanial.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="how-it-works"><a class="anchor" href="#how-it-works"></a>How it works</h2>

    
    <p><code>cloc</code>'s method of operation resembles <a href='https://www.dwheeler.com/sloccount/'>SLOCCount</a>'s:
First, create a list of files to consider. Next, attempt to determine whether or not
found files contain recognized computer language source code. Finally, for files
identified as source files, invoke language-specific routines to count the number of
source lines.</p>
<p>A more detailed description:</p><ol>
<li><p>If the input file is an archive (such as a <code>.tar.gz</code> or <code>.zip</code> file),
create a temporary directory and expand the archive there using a
system call to an appropriate underlying utility (<code>tar</code>, <code>bzip2</code>, <code>unzip</code>,
etc) then add this temporary directory as one of the inputs. (This
works more reliably on Unix than on Windows.)</p></li>
<li><p>Use perl's <code>File::Find</code> to recursively descend the input directories and make
a list of candidate file names. Ignore binary and zero-sized files.</p></li>
<li><p>Make sure the files in the candidate list have unique contents
(first by comparing file sizes, then, for similarly sized files,
compare MD5 hashes of the file contents with perl's <code>Digest::MD5</code>). For each
set of identical files, remove all but the first copy, as determined
by a lexical sort, of identical files from the set. The removed
files are not included in the report.</p></li>
<li><p>Scan the candidate file list for file extensions which cloc
associates with programming languages. Files which match are classified as
containing source
code for that language. Each file without an extensions is opened
and its first line read to see if it is a Unix shell script
(anything that begins with <code>#!</code>). If it is shell script, the file is
classified by that scripting language (if the language is
recognized). If the file does not have a recognized extension or is
not a recognzied scripting language, the file is ignored.</p></li>
<li><p>All remaining files in the candidate list should now be source files
for known programming languages. For each of these files:</p><ol>
<li><p>Read the entire file into memory.</p></li>
<li><p>Count the number of lines (= L <em>original</em>).</p></li>
<li><p>Remove blank lines, then count again (= L <em>non-blank</em>).</p></li>
<li><p>Loop over the comment filters defined for this language. (For
example, C++ as two filters: (1) remove lines that start with
optional whitespace followed by <code>//</code> and (2) remove text between
<code>/*</code> and <code>*/</code>) Apply each filter to the code to remove comments.
Count the left over lines (= L <em>code</em>).</p></li>
<li><p>Save the counts for this language:</p><ul>
<li><p>blank lines = L <em>original</em> - L <em>non-blank</em></p></li>
<li><p>comment lines = L <em>non-blank</em> - L <em>code</em></p></li>
<li><p>code lines = L <em>code</em></p></li>
</ul></li>
</ol></li>
</ol>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#how-it-works">How it works</a></li>
          </ul>

    <h2>Author</h2>
    <p>Bob Rudis (bob@rud.is)</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Bob Rudis, Al Danial.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

